# Use the official Node.js 18 Alpine base image for efficiency
FROM node:22-alpine  

# Install system dependencies
RUN apk add --no-cache git python3 make g++

# Install pnpm
RUN corepack enable && corepack prepare pnpm@latest --activate

# Create and set the working directory
WORKDIR /app
 

COPY . /app 

# Expose default ports
# PDS (Personal Data Server) typically runs on 2583
EXPOSE 8080




# Entrypoint - adjust based on which service you want to run
WORKDIR /app
CMD ["yarn", "web"]
